var binding_path=64===win32or64()?"./binding/x64/node-atETP.node":"./binding/ia32/node-atETP.node",binding=require(binding_path),ETP_inited=!1;function win32or64(){return"x86"===process.env.PROCESSOR_ARCHITECTURE&&process.env.PROCESSOR_ARCHITEW6432?64:"AMD64"===process.env.PROCESSOR_ARCHITECTURE?64:"x64"===process.env.CURRENT_CPU?64:32}function atETP(){ETP_inited||atETP.prototype.init()}function cleanup(){binding.Close(),ETP_inited=!1}atETP.prototype.init=function(){binding.Open(),ETP_inited=!0},atETP.prototype.ETPDataRead=function(n){return binding.ETPDataRead(n)},atETP.prototype.ETPDataWrite=function(n,t){return binding.ETPDataWrite(n,t)},atETP.prototype.ETPLockUnlockSet=function(n,t){return binding.ETPLockUnlockSet(n,t)},atETP.prototype.ETPLockStatusCheck=function(n){return binding.ETPLockStatusCheck(n)},process.on("exit",function(n){cleanup()}),process.on("uncaughtException",function(n){console.error("UNCAUGHT EXCEPTION:",n),process.exit(1)}),module.exports=new atETP;
